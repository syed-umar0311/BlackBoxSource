<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BlackBoxSourcing</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@400;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="./css/work.css">
  <link rel="icon" type="image/jpg" href="./images/TabLogo.jpg" />
  <link rel="stylesheet" href="./css/styles.css" />


</head>

<body>
  <div class="circle"></div>


  <div id="loader">
    Loading...
  </div>
  <div id="main-content" style="opacity: 0; transition: opacity 1s ease;">

    <header>
      <nav class="navbar-work">
        <h1 class="work-nav-head"><a href="index.html">BLACKBOXSOURCING</a></h1>
        <div class="nav-left-work">
          <a href="work.html">Work®</a>
          <a href="service.html">Studio</a>
          <a href="contact.html">Contact</a>
        </div>
        <span class="nav-right-work" id="cph-time">CPH --:--</span>
      </nav>
    </header>



    <main>

      <div class="work-scroll" id="scrollContainer">
        <div class="work-content">
          <img class="work-image" src="./images/pic1.png" alt="">
          <h1 class="work-head">BIRDIE®</h1>
          <p class="work-p">A FRESH AIR MONITOR</p>
        </div>

        <div class="work-content">
          <img class="work-image" src="./images/pic1.png" alt="">
          <h1 class="work-head">BIRDIE®</h1>
          <p class="work-p">A FRESH AIR MONITOR</p>
        </div>


        <div class="work-content">
          <img class="work-image" src="./images/pic1.png" alt="">
          <h1 class="work-head">BIRDIE®</h1>
          <p class="work-p">A FRESH AIR MONITOR</p>
        </div>

        <div class="work-content">
          <img class="work-image" src="./images/pic1.png" alt="">
          <h1 class="work-head">BIRDIE®</h1>
          <p class="work-p">A FRESH AIR MONITOR</p>
        </div>

      </div>

    </main>


    <footer>
      <div class="work-foot">
        <h5 class="work-foot-in">WE TRANSFORM BRAND IN TO EXPRIENCES</h5>
        <h5 class="work-foot-in">CURRENT WORK(5)</h5>
      </div>
    </footer>

  </div>



















































  <!-- ✅ Move script to bottom -->
  <script>
    const circle = document.querySelector('.circle');

    let mouseX = 0;
    let mouseY = 0;

    let circleX = 0;
    let circleY = 0;

    const speed = 0.1;

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    function animate() {
      circleX += (mouseX - circleX) * speed;
      circleY += (mouseY - circleY) * speed;

      circle.style.left = `${circleX}px`;
      circle.style.top = `${circleY}px`;

      requestAnimationFrame(animate);
    }

    animate();
    // .........................................................................................................

    function updateCPHTime() {
      const options = {
        timeZone: 'Europe/Copenhagen',
        hour: '2-digit',
        minute: '2-digit',
        hour12: false
      };

      const now = new Date();
      const formatter = new Intl.DateTimeFormat([], options);
      const timeString = formatter.format(now);
      document.getElementById('cph-time').textContent = `CPH ${timeString}`;
    }

    updateCPHTime(); // Initial load
    setInterval(updateCPHTime, 60000); // Update every minute
    // .........................................................................................
    const scrollContainer = document.getElementById('scrollContainer');

    if (scrollContainer) {
      let scrollTarget = scrollContainer.scrollLeft;
      let isScrolling = false;

      scrollContainer.addEventListener(
        'wheel',
        (e) => {
          e.preventDefault();
          const scrollSpeed = 300; // Boosted speed!
          scrollTarget += e.deltaY * scrollSpeed;

          // Bound the scroll target
          scrollTarget = Math.max(
            0,
            Math.min(scrollTarget, scrollContainer.scrollWidth - scrollContainer.clientWidth)
          );

          if (!isScrolling) {
            isScrolling = true;
            requestAnimationFrame(smoothScroll);
          }
        },
        { passive: false }
      );

      function smoothScroll() {
        const delta = scrollTarget - scrollContainer.scrollLeft;
        scrollContainer.scrollLeft += delta * 1; // Faster response

        if (Math.abs(delta) > 1) {
          requestAnimationFrame(smoothScroll);
        } else {
          scrollContainer.scrollLeft = scrollTarget;
          isScrolling = false;
        }
      }
    }


    // ...................................................................


    setTimeout(() => {
      const mainContent = document.getElementById("main-content");
      const loader = document.getElementById("loader");

      // Slide loader out
      loader.style.animation = "slideOut 0.5s ease-in forwards";

      // After slide-out animation ends, remove loader and fade in content
      loader.addEventListener("animationend", () => {
        loader.remove();
        mainContent.style.opacity = "1";
      });
    }, 3000);
  </script>

</body>

</html>