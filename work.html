<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BlackBoxSourcing</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@400;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="./css/work.css">
  <link rel="icon" type="image/jpg" href="./images/TabLogo.jpg" />
  <link rel="stylesheet" href="./css/styles.css" />


</head>

<body>
  <div class="circle"></div>


  <div id="loader">
    <img src="./images/Logo.jpg" alt="" srcset="" style="width: 200px; height: 200px;">
    <div class="loaderr"></div>
  </div>
  <div id="main-content" style="opacity: 0; transition: opacity 1s ease;">

    <header>
      <nav class="navbar-work">
        <h1 class="work-nav-head"><a class="page-transition" href="index.html">BLACKBOXSOURCING</a></h1>
        <div class="nav-left-work">
          <a href="#" class="nav-link" style="pointer-events: none; color: gray; text-decoration: none;">Work®</a>
          <a href="service.html" class="page-transition">Our Story</a>
          <a href="contact.html" class="page-transition">Contact</a>
        </div>
        <span class="nav-right" id="cph-time">CPH --<span class="blink">:</span>--</span>
      </nav>
    </header>



    <main>

      <div class="work-scroll" id="scrollContainer">
        <div class="work-content">
          <img class="work-image" src="./images/pic1.png" alt="">
          <h1 class="work-head">BIRDIE®</h1>
          <p class="work-p">A FRESH AIR MONITOR</p>
        </div>

        <div class="work-content">
          <img class="work-image" src="./images/pic1.png" alt="">
          <h1 class="work-head">BIRDIE®</h1>
          <p class="work-p">A FRESH AIR MONITOR</p>
        </div>


        <div class="work-content">
          <img class="work-image" src="./images/pic1.png" alt="">
          <h1 class="work-head">BIRDIE®</h1>
          <p class="work-p">A FRESH AIR MONITOR</p>
        </div>

        <div class="work-content">
          <img class="work-image" src="./images/pic1.png" alt="">
          <h1 class="work-head">BIRDIE®</h1>
          <p class="work-p">A FRESH AIR MONITOR</p>
        </div>

      </div>

    </main>


    <footer>
      <div class="work-foot">
        <h5 class="work-foot-in">WE TRANSFORM BRAND IN TO EXPRIENCES</h5>
        <h5 class="work-foot-in">CURRENT WORK(5)</h5>
      </div>
    </footer>

  </div>



















































  <!-- ✅ Move script to bottom -->
  <script>
    const circle = document.querySelector('.circle');

    let mouseX = 0;
    let mouseY = 0;

    let circleX = 0;
    let circleY = 0;

    const speed = 0.1;

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    function animate() {
      circleX += (mouseX - circleX) * speed;
      circleY += (mouseY - circleY) * speed;

      circle.style.left = `${circleX}px`;
      circle.style.top = `${circleY}px`;

      requestAnimationFrame(animate);
    }

    animate();
    // .........................................................................................................

    function updateCPHTime() {
      const options = {
        timeZone: 'Europe/Copenhagen',
        hour: '2-digit',
        minute: '2-digit',
        hour12: false
      };

      const now = new Date();
      const formatter = new Intl.DateTimeFormat([], options);
      const timeString = formatter.format(now); // example: "15:42"

      const [hours, minutes] = timeString.split(":");

      // put blinking colon between hours and minutes
      document.getElementById('cph-time').innerHTML = `CPH ${hours}<span class="blink">:</span>${minutes}`;
    }

    updateCPHTime(); // Initial load
    setInterval(updateCPHTime, 60000); // Update every minute

    // .........................................................................................
    const scrollContainer = document.getElementById('scrollContainer');

    if (scrollContainer) {
      let scrollTarget = scrollContainer.scrollLeft;
      let isScrolling = false;

      scrollContainer.addEventListener(
        'wheel',
        (e) => {
          e.preventDefault();
          const scrollSpeed = 300; // Boosted speed!
          scrollTarget += e.deltaY * scrollSpeed;

          // Bound the scroll target
          scrollTarget = Math.max(
            0,
            Math.min(scrollTarget, scrollContainer.scrollWidth - scrollContainer.clientWidth)
          );

          if (!isScrolling) {
            isScrolling = true;
            requestAnimationFrame(smoothScroll);
          }
        },
        { passive: false }
      );

      function smoothScroll() {
        const delta = scrollTarget - scrollContainer.scrollLeft;
        scrollContainer.scrollLeft += delta * 1; // Faster response

        if (Math.abs(delta) > 1) {
          requestAnimationFrame(smoothScroll);
        } else {
          scrollContainer.scrollLeft = scrollTarget;
          isScrolling = false;
        }
      }
    }


    // ...................................................................

    const loader = document.getElementById("loader");
    const mainContent = document.getElementById("main-content");

    // Show content immediately on load (no loader effect)
    window.addEventListener("load", () => {
      loader.style.display = "none";
      mainContent.style.opacity = "1";
    });

    // Navigation animation
    document.querySelectorAll(".page-transition").forEach(link => {
      link.addEventListener("click", function (e) {
        e.preventDefault();
        const targetUrl = this.href;

        // show overlay
        loader.style.display = "flex";
        loader.style.opacity = "1";

        // restart slide-in animation cleanly
        loader.style.animation = "none";
        void loader.offsetWidth; // reflow
        loader.style.animation = "slideIn 0.6s ease-out forwards";

        // when overlay has fully covered, WAIT 3s, then go
        loader.addEventListener("animationend", () => {
          setTimeout(() => {
            window.location.href = targetUrl;
          }, 3000); // <- your 3-second delay
        }, { once: true });
      });
    });



  </script>

</body>

</html>